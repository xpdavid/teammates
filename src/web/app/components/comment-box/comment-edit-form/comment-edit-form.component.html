<div class="row">
  <div class="col-6">
    Your comment about the above response
  </div>
  <div class="col-sm-6">
    <div class="float-right">
      <span>
        <button *ngIf="isVisibilityOptionEnabled" class="btn btn-info btn-sm" (click)="toggleVisibilityTable()">
          <i class="fas fa-eye-slash"></i> Show Visibility Options</button>
      </span>
      <span style="margin-left: 10px;">
        <button type="button" class="close" aria-label="Close" ngbTooltip='Discard changes to this comment'
                (click)="triggerCloseCommentBoxEvent()">
          <span aria-hidden="true">&times;</span>
        </button>
      </span>
    </div>
  </div>
</div>
<br/>

<table *ngIf="isVisibilityTableExpanded" class="table margin-bottom-0 background-color-white table-striped">
  <thead>
  <tr>
    <th scope="col" class="text-center">User/Group</th>
    <th scope="col" class="text-center" *ngFor="let commentVisibilityControl of CommentVisibilityControl | enumToArray">{{ commentVisibilityControl | commentVisibilityControlName }}</th>
  </tr>
  </thead>
  <tbody>
  <ng-container *ngFor="let commentVisibilityType of CommentVisibilityType | enumToArray">
    <tr *ngIf="isVisibilityTypeApplicable(commentVisibilityType)">
      <td [ngbTooltip]="commentVisibilityType | commentVisibilityTypeDescription" container="body"> {{ commentVisibilityType | visibilityTypeName }}</td>
      <td *ngFor="let commentVisibilityControl of CommentVisibilityControl | enumToArray" class="text-center">
        <input type="checkbox" [checked]="hasVisibilityType(commentVisibilityType, commentVisibilityControl)"
               (click)="modifyVisibilityControl(commentVisibilityType, commentVisibilityControl)">
      </td>
    </tr>
  </ng-container>
  </tbody>
</table>

<div style="margin: 10px 0;">
  <tm-rich-text-editor [richText]="model.commentText" (richTextChange)="triggerModelChange('commentText', $event)"
                       placeholderText="Enter your comment here" [isDisabled]="isDisabled"></tm-rich-text-editor>
</div>

<button type="button" class="btn btn-secondary btn-sm float-right"  ngbTooltip='Save this comment'
        (click)="triggerSaveCommentEvent()" *ngIf="!shouldHideSavingButton" [disabled]="isDisabled"><i class="fas fa-save"></i> Save</button>
